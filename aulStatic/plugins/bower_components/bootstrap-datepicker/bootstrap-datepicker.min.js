/*!
 * Datepicker for Bootstrap v1.4.1 (https://github.com/eternicode/bootstrap-datepicker)
 *
 * Copyright 2012 Stefan Petre
 * Improvements by Andrew Rowls
 * Licensed under the Apache License v2.0 (http://www.apache.org/licenses/LICENSE-2.0)
 */
!function(H,G){function F(){return new Date(Date.UTC.apply(Date,arguments))}function E(){var b=new Date;return F(b.getFullYear(),b.getMonth(),b.getDate())}function D(d,c){return d.getUTCFullYear()===c.getUTCFullYear()&&d.getUTCMonth()===c.getUTCMonth()&&d.getUTCDate()===c.getUTCDate()}function C(b){return function(){return this[b].apply(this,arguments)}}function B(a,p){function o(d,c){return c.toLowerCase()}var n,m=H(a).data(),l={},k=new RegExp("^"+p.toLowerCase()+"([A-Z])");p=new RegExp("^"+p.toLowerCase());for(var j in m){p.test(j)&&(n=j.replace(k,o),l[n]=m[j])}return l}function A(a){var f={};if(s[a]||(a=a.split("-")[0],s[a])){var e=s[a];return H.each(t,function(d,c){c in e&&(f[c]=e[c])}),f}}var z=function(){var a={get:function(b){return this.slice(b)[0]},contains:function(f){for(var e=f&&f.valueOf(),h=0,g=this.length;g>h;h++){if(this[h].valueOf()===e){return h}}return -1},remove:function(b){this.splice(b,1)},replace:function(c){c&&(H.isArray(c)||(c=[c]),this.clear(),this.push.apply(this,c))},clear:function(){this.length=0},copy:function(){var b=new z;return b.replace(this),b}};return function(){var b=[];return b.push.apply(b,arguments),H.extend(b,a),b}}(),y=function(a,d){this._process_options(d),this.dates=new z,this.viewDate=this.o.defaultViewDate,this.focusDate=null,this.element=H(a),this.isInline=!1,this.isInput=this.element.is("input"),this.component=this.element.hasClass("date")?this.element.find(".add-on, .input-group-addon, .btn"):!1,this.hasInput=this.component&&this.element.find("input").length,this.component&&0===this.component.length&&(this.component=!1),this.picker=H(r.template),this._buildEvents(),this._attachEvents(),this.isInline?this.picker.addClass("datepicker-inline").appendTo(this.element):this.picker.addClass("datepicker-dropdown dropdown-menu"),this.o.rtl&&this.picker.addClass("datepicker-rtl"),this.viewMode=this.o.startView,this.o.calendarWeeks&&this.picker.find("tfoot .today, tfoot .clear").attr("colspan",function(e,c){return parseInt(c)+1}),this._allow_update=!1,this.setStartDate(this._o.startDate),this.setEndDate(this._o.endDate),this.setDaysOfWeekDisabled(this.o.daysOfWeekDisabled),this.setDatesDisabled(this.o.datesDisabled),this.fillDow(),this.fillMonths(),this._allow_update=!0,this.update(),this.showMode(),this.isInline&&this.show()};y.prototype={constructor:y,_process_options:function(K){this._o=H.extend({},this._o,K);var J=this.o=H.extend({},this._o),I=J.language;switch(s[I]||(I=I.split("-")[0],s[I]||(I=u.language)),J.language=I,J.startView){case 2:case"decade":J.startView=2;break;case 1:case"year":J.startView=1;break;default:J.startView=0}switch(J.minViewMode){case 1:case"months":J.minViewMode=1;break;case 2:case"years":J.minViewMode=2;break;default:J.minViewMode=0}J.startView=Math.max(J.startView,J.minViewMode),J.multidate!==!0&&(J.multidate=Number(J.multidate)||!1,J.multidate!==!1&&(J.multidate=Math.max(0,J.multidate))),J.multidateSeparator=String(J.multidateSeparator),J.weekStart%=7,J.weekEnd=(J.weekStart+6)%7;var q=r.parseFormat(J.format);if(J.startDate!==-(1/0)&&(J.startDate?J.startDate instanceof Date?J.startDate=this._local_to_utc(this._zero_time(J.startDate)):J.startDate=r.parseDate(J.startDate,q,J.language):J.startDate=-(1/0)),J.endDate!==1/0&&(J.endDate?J.endDate instanceof Date?J.endDate=this._local_to_utc(this._zero_time(J.endDate)):J.endDate=r.parseDate(J.endDate,q,J.language):J.endDate=1/0),J.daysOfWeekDisabled=J.daysOfWeekDisabled||[],H.isArray(J.daysOfWeekDisabled)||(J.daysOfWeekDisabled=J.daysOfWeekDisabled.split(/[,\s]*/)),J.daysOfWeekDisabled=H.map(J.daysOfWeekDisabled,function(e){return parseInt(e,10)}),J.datesDisabled=J.datesDisabled||[],!H.isArray(J.datesDisabled)){var p=[];p.push(r.parseDate(J.datesDisabled,q,J.language)),J.datesDisabled=p}J.datesDisabled=H.map(J.datesDisabled,function(e){return r.parseDate(e,q,J.language)});var n=String(J.orientation).toLowerCase().split(/\s+/g),d=J.orientation.toLowerCase();if(n=H.grep(n,function(e){return/^auto|left|right|top|bottom$/.test(e)}),J.orientation={x:"auto",y:"auto"},d&&"auto"!==d){if(1===n.length){switch(n[0]){case"top":case"bottom":J.orientation.y=n[0];break;case"left":case"right":J.orientation.x=n[0]}}else{d=H.grep(n,function(e){return/^left|right$/.test(e)}),J.orientation.x=d[0]||"auto",d=H.grep(n,function(e){return/^top|bottom$/.test(e)}),J.orientation.y=d[0]||"auto"}}else{}if(J.defaultViewDate){var c=J.defaultViewDate.year||(new Date).getFullYear(),b=J.defaultViewDate.month||0,a=J.defaultViewDate.day||1;J.defaultViewDate=F(c,b,a)}else{J.defaultViewDate=E()}J.showOnFocus=J.showOnFocus!==G?J.showOnFocus:!0},_events:[],_secondaryEvents:[],_applyEvents:function(b){for(var j,i,h,g=0;g<b.length;g++){j=b[g][0],2===b[g].length?(i=G,h=b[g][1]):3===b[g].length&&(i=b[g][1],h=b[g][2]),j.on(h,i)}},_unapplyEvents:function(b){for(var j,i,h,g=0;g<b.length;g++){j=b[g][0],2===b[g].length?(h=G,i=b[g][1]):3===b[g].length&&(h=b[g][1],i=b[g][2]),j.off(i,h)}},_buildEvents:function(){var a={keyup:H.proxy(function(c){-1===H.inArray(c.keyCode,[27,37,39,38,40,32,13,9])&&this.update()},this),keydown:H.proxy(this.keydown,this)};this.o.showOnFocus===!0&&(a.focus=H.proxy(this.show,this)),this.isInput?this._events=[[this.element,a]]:this.component&&this.hasInput?this._events=[[this.element.find("input"),a],[this.component,{click:H.proxy(this.show,this)}]]:this.element.is("div")?this.isInline=!0:this._events=[[this.element,{click:H.proxy(this.show,this)}]],this._events.push([this.element,"*",{blur:H.proxy(function(b){this._focused_from=b.target},this)}],[this.element,{blur:H.proxy(function(b){this._focused_from=b.target},this)}]),this._secondaryEvents=[[this.picker,{click:H.proxy(this.click,this)}],[H(window),{resize:H.proxy(this.place,this)}],[H(document),{"mousedown touchstart":H.proxy(function(b){this.element.is(b.target)||this.element.find(b.target).length||this.picker.is(b.target)||this.picker.find(b.target).length||this.hide()},this)}]]},_attachEvents:function(){this._detachEvents(),this._applyEvents(this._events)},_detachEvents:function(){this._unapplyEvents(this._events)},_attachSecondaryEvents:function(){this._detachSecondaryEvents(),this._applyEvents(this._secondaryEvents)},_detachSecondaryEvents:function(){this._unapplyEvents(this._secondaryEvents)},_trigger:function(a,h){var g=h||this.dates.get(-1),f=this._utc_to_local(g);this.element.trigger({type:a,date:f,dates:H.map(this.dates,this._utc_to_local),format:H.proxy(function(e,d){0===arguments.length?(e=this.dates.length-1,d=this.o.format):"string"==typeof e&&(d=e,e=this.dates.length-1),d=d||this.o.format;var i=this.dates.get(e);return r.formatDate(i,d,this.o.language)},this)})},show:function(){return this.element.attr("readonly")&&this.o.enableOnReadonly===!1?void 0:(this.isInline||this.picker.appendTo(this.o.container),this.place(),this.picker.show(),this._attachSecondaryEvents(),this._trigger("show"),(window.navigator.msMaxTouchPoints||"ontouchstart" in document)&&this.o.disableTouchKeyboard&&H(this.element).blur(),this)},hide:function(){return this.isInline?this:this.picker.is(":visible")?(this.focusDate=null,this.picker.hide().detach(),this._detachSecondaryEvents(),this.viewMode=this.o.startView,this.showMode(),this.o.forceParse&&(this.isInput&&this.element.val()||this.hasInput&&this.element.find("input").val())&&this.setValue(),this._trigger("hide"),this):this},remove:function(){return this.hide(),this._detachEvents(),this._detachSecondaryEvents(),this.picker.remove(),delete this.element.data().datepicker,this.isInput||delete this.element.data().date,this},_utc_to_local:function(b){return b&&new Date(b.getTime()+60000*b.getTimezoneOffset())},_local_to_utc:function(b){return b&&new Date(b.getTime()-60000*b.getTimezoneOffset())},_zero_time:function(b){return b&&new Date(b.getFullYear(),b.getMonth(),b.getDate())},_zero_utc_time:function(b){return b&&new Date(Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate()))},getDates:function(){return H.map(this.dates,this._utc_to_local)},getUTCDates:function(){return H.map(this.dates,function(b){return new Date(b)})},getDate:function(){return this._utc_to_local(this.getUTCDate())},getUTCDate:function(){var b=this.dates.get(-1);return"undefined"!=typeof b?new Date(b):null},clearDates:function(){var b;this.isInput?b=this.element:this.component&&(b=this.element.find("input")),b&&b.val("").change(),this.update(),this._trigger("changeDate"),this.o.autoclose&&this.hide()},setDates:function(){var a=H.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,a),this._trigger("changeDate"),this.setValue(),this},setUTCDates:function(){var a=H.isArray(arguments[0])?arguments[0]:arguments;return this.update.apply(this,H.map(a,this._utc_to_local)),this._trigger("changeDate"),this.setValue(),this},setDate:C("setDates"),setUTCDate:C("setUTCDates"),setValue:function(){var b=this.getFormattedDate();return this.isInput?this.element.val(b).change():this.component&&this.element.find("input").val(b).change(),this},getFormattedDate:function(b){b===G&&(b=this.o.format);var a=this.o.language;return H.map(this.dates,function(c){return r.formatDate(c,b,a)}).join(this.o.multidateSeparator)},setStartDate:function(b){return this._process_options({startDate:b}),this.update(),this.updateNavArrows(),this},setEndDate:function(b){return this._process_options({endDate:b}),this.update(),this.updateNavArrows(),this},setDaysOfWeekDisabled:function(b){return this._process_options({daysOfWeekDisabled:b}),this.update(),this.updateNavArrows(),this},setDatesDisabled:function(b){this._process_options({datesDisabled:b}),this.update(),this.updateNavArrows()},place:function(){if(this.isInline){return this}var Y=this.picker.outerWidth(),X=this.picker.outerHeight(),W=10,V=H(this.o.container).width(),U=H(this.o.container).height(),T=H(this.o.container).scrollTop(),S=H(this.o.container).offset(),R=[];this.element.parents().each(function(){var c=H(this).css("z-index");"auto"!==c&&0!==c&&R.push(parseInt(c))});var Q=Math.max.apply(Math,R)+10,P=this.component?this.component.parent().offset():this.element.offset(),O=this.component?this.component.outerHeight(!0):this.element.outerHeight(!1),N=this.component?this.component.outerWidth(!0):this.element.outerWidth(!1),M=P.left-S.left,L=P.top-S.top;this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"),"auto"!==this.o.orientation.x?(this.picker.addClass("datepicker-orient-"+this.o.orientation.x),"right"===this.o.orientation.x&&(M-=Y-N)):P.left<0?(this.picker.addClass("datepicker-orient-left"),M-=P.left-W):M+Y>V?(this.picker.addClass("datepicker-orient-right"),M=P.left+N-Y):this.picker.addClass("datepicker-orient-left");var K,J,I=this.o.orientation.y;if("auto"===I&&(K=-T+L-X,J=T+U-(L+O+X),I=Math.max(K,J)===J?"top":"bottom"),this.picker.addClass("datepicker-orient-"+I),"top"===I?L+=O:L-=X+parseInt(this.picker.css("padding-top")),this.o.rtl){var a=V-(M+N);this.picker.css({top:L,right:a,zIndex:Q})}else{this.picker.css({top:L,left:M,zIndex:Q})}return this},_allow_update:!0,update:function(){if(!this._allow_update){return this}var a=this.dates.copy(),f=[],e=!1;return arguments.length?(H.each(arguments,H.proxy(function(d,c){c instanceof Date&&(c=this._local_to_utc(c)),f.push(c)},this)),e=!0):(f=this.isInput?this.element.val():this.element.data("date")||this.element.find("input").val(),f=f&&this.o.multidate?f.split(this.o.multidateSeparator):[f],delete this.element.data().date),f=H.map(f,H.proxy(function(b){return r.parseDate(b,this.o.format,this.o.language)},this)),f=H.grep(f,H.proxy(function(b){return b<this.o.startDate||b>this.o.endDate||!b},this),!0),this.dates.replace(f),this.dates.length?this.viewDate=new Date(this.dates.get(-1)):this.viewDate<this.o.startDate?this.viewDate=new Date(this.o.startDate):this.viewDate>this.o.endDate&&(this.viewDate=new Date(this.o.endDate)),e?this.setValue():f.length&&String(a)!==String(this.dates)&&this._trigger("changeDate"),!this.dates.length&&a.length&&this._trigger("clearDate"),this.fill(),this},fillDow:function(){var e=this.o.weekStart,d="<tr>";if(this.o.calendarWeeks){this.picker.find(".datepicker-days thead tr:first-child .datepicker-switch").attr("colspan",function(g,c){return parseInt(c)+1});var f='<th class="cw">&#160;</th>';d+=f}for(;e<this.o.weekStart+7;){d+='<th class="dow">'+s[this.o.language].daysMin[e++%7]+"</th>"}d+="</tr>",this.picker.find(".datepicker-days thead").append(d)},fillMonths:function(){for(var d="",c=0;12>c;){d+='<span class="month">'+s[this.o.language].monthsShort[c++]+"</span>"}this.picker.find(".datepicker-months td").html(d)},setRange:function(a){a&&a.length?this.range=H.map(a,function(b){return b.valueOf()}):delete this.range,this.fill()},getClassNames:function(a){var j=[],i=this.viewDate.getUTCFullYear(),h=this.viewDate.getUTCMonth(),e=new Date;return a.getUTCFullYear()<i||a.getUTCFullYear()===i&&a.getUTCMonth()<h?j.push("old"):(a.getUTCFullYear()>i||a.getUTCFullYear()===i&&a.getUTCMonth()>h)&&j.push("new"),this.focusDate&&a.valueOf()===this.focusDate.valueOf()&&j.push("focused"),this.o.todayHighlight&&a.getUTCFullYear()===e.getFullYear()&&a.getUTCMonth()===e.getMonth()&&a.getUTCDate()===e.getDate()&&j.push("today"),-1!==this.dates.contains(a)&&j.push("active"),(a.valueOf()<this.o.startDate||a.valueOf()>this.o.endDate||-1!==H.inArray(a.getUTCDay(),this.o.daysOfWeekDisabled))&&j.push("disabled"),this.o.datesDisabled.length>0&&H.grep(this.o.datesDisabled,function(b){return D(a,b)}).length>0&&j.push("disabled","disabled-date"),this.range&&(a>this.range[0]&&a<this.range[this.range.length-1]&&j.push("range"),-1!==H.inArray(a.valueOf(),this.range)&&j.push("selected")),j},fill:function(){var ac,ab=new Date(this.viewDate),aa=ab.getUTCFullYear(),Z=ab.getUTCMonth(),Y=this.o.startDate!==-(1/0)?this.o.startDate.getUTCFullYear():-(1/0),X=this.o.startDate!==-(1/0)?this.o.startDate.getUTCMonth():-(1/0),W=this.o.endDate!==1/0?this.o.endDate.getUTCFullYear():1/0,V=this.o.endDate!==1/0?this.o.endDate.getUTCMonth():1/0,U=s[this.o.language].today||s.en.today||"",T=s[this.o.language].clear||s.en.clear||"";if(!isNaN(aa)&&!isNaN(Z)){this.picker.find(".datepicker-days thead .datepicker-switch").text(s[this.o.language].months[Z]+" "+aa),this.picker.find("tfoot .today").text(U).toggle(this.o.todayBtn!==!1),this.picker.find("tfoot .clear").text(T).toggle(this.o.clearBtn!==!1),this.updateNavArrows(),this.fillMonths();var S=F(aa,Z-1,28),R=r.getDaysInMonth(S.getUTCFullYear(),S.getUTCMonth());S.setUTCDate(R),S.setUTCDate(R-(S.getUTCDay()-this.o.weekStart+7)%7);var O=new Date(S);O.setUTCDate(O.getUTCDate()+42),O=O.valueOf();for(var M,K=[];S.valueOf()<O;){if(S.getUTCDay()===this.o.weekStart&&(K.push("<tr>"),this.o.calendarWeeks)){var I=new Date(+S+(this.o.weekStart-S.getUTCDay()-7)%7*86400000),q=new Date(Number(I)+(11-I.getUTCDay())%7*86400000),p=new Date(Number(p=F(q.getUTCFullYear(),0,1))+(11-p.getUTCDay())%7*86400000),c=(q-p)/86400000/7+1;K.push('<td class="cw">'+c+"</td>")}if(M=this.getClassNames(S),M.push("day"),this.o.beforeShowDay!==H.noop){var b=this.o.beforeShowDay(this._utc_to_local(S));b===G?b={}:"boolean"==typeof b?b={enabled:b}:"string"==typeof b&&(b={classes:b}),b.enabled===!1&&M.push("disabled"),b.classes&&(M=M.concat(b.classes.split(/\s+/))),b.tooltip&&(ac=b.tooltip)}M=H.unique(M),K.push('<td class="'+M.join(" ")+'"'+(ac?' title="'+ac+'"':"")+">"+S.getUTCDate()+"</td>"),ac=null,S.getUTCDay()===this.o.weekEnd&&K.push("</tr>"),S.setUTCDate(S.getUTCDate()+1)}this.picker.find(".datepicker-days tbody").empty().append(K.join(""));var a=this.picker.find(".datepicker-months").find("th:eq(1)").text(aa).end().find("span").removeClass("active");if(H.each(this.dates,function(e,d){d.getUTCFullYear()===aa&&a.eq(d.getUTCMonth()).addClass("active")}),(Y>aa||aa>W)&&a.addClass("disabled"),aa===Y&&a.slice(0,X).addClass("disabled"),aa===W&&a.slice(V+1).addClass("disabled"),this.o.beforeShowMonth!==H.noop){var Q=this;H.each(a,function(f,i){if(!H(i).hasClass("disabled")){var h=new Date(aa,f,1),g=Q.o.beforeShowMonth(h);g===!1&&H(i).addClass("disabled")}})}K="",aa=10*parseInt(aa/10,10);var P=this.picker.find(".datepicker-years").find("th:eq(1)").text(aa+"-"+(aa+9)).end().find("td");aa-=1;for(var N,L=H.map(this.dates,function(d){return d.getUTCFullYear()}),J=-1;11>J;J++){N=["year"],-1===J?N.push("old"):10===J&&N.push("new"),-1!==H.inArray(aa,L)&&N.push("active"),(Y>aa||aa>W)&&N.push("disabled"),K+='<span class="'+N.join(" ")+'">'+aa+"</span>",aa+=1}P.html(K)}},updateNavArrows:function(){if(this._allow_update){var e=new Date(this.viewDate),d=e.getUTCFullYear(),f=e.getUTCMonth();switch(this.viewMode){case 0:this.o.startDate!==-(1/0)&&d<=this.o.startDate.getUTCFullYear()&&f<=this.o.startDate.getUTCMonth()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&d>=this.o.endDate.getUTCFullYear()&&f>=this.o.endDate.getUTCMonth()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"});break;case 1:case 2:this.o.startDate!==-(1/0)&&d<=this.o.startDate.getUTCFullYear()?this.picker.find(".prev").css({visibility:"hidden"}):this.picker.find(".prev").css({visibility:"visible"}),this.o.endDate!==1/0&&d>=this.o.endDate.getUTCFullYear()?this.picker.find(".next").css({visibility:"hidden"}):this.picker.find(".next").css({visibility:"visible"})}}},click:function(a){a.preventDefault();var p,o,n,m=H(a.target).closest("span, td, th");if(1===m.length){switch(m[0].nodeName.toLowerCase()){case"th":switch(m[0].className){case"datepicker-switch":this.showMode(1);break;case"prev":case"next":var l=r.modes[this.viewMode].navStep*("prev"===m[0].className?-1:1);switch(this.viewMode){case 0:this.viewDate=this.moveMonth(this.viewDate,l),this._trigger("changeMonth",this.viewDate);break;case 1:case 2:this.viewDate=this.moveYear(this.viewDate,l),1===this.viewMode&&this._trigger("changeYear",this.viewDate)}this.fill();break;case"today":var k=new Date;k=F(k.getFullYear(),k.getMonth(),k.getDate(),0,0,0),this.showMode(-2);var c="linked"===this.o.todayBtn?null:"view";this._setDate(k,c);break;case"clear":this.clearDates()}break;case"span":m.hasClass("disabled")||(this.viewDate.setUTCDate(1),m.hasClass("month")?(n=1,o=m.parent().find("span").index(m),p=this.viewDate.getUTCFullYear(),this.viewDate.setUTCMonth(o),this._trigger("changeMonth",this.viewDate),1===this.o.minViewMode&&this._setDate(F(p,o,n))):(n=1,o=0,p=parseInt(m.text(),10)||0,this.viewDate.setUTCFullYear(p),this._trigger("changeYear",this.viewDate),2===this.o.minViewMode&&this._setDate(F(p,o,n))),this.showMode(-1),this.fill());break;case"td":m.hasClass("day")&&!m.hasClass("disabled")&&(n=parseInt(m.text(),10)||1,p=this.viewDate.getUTCFullYear(),o=this.viewDate.getUTCMonth(),m.hasClass("old")?0===o?(o=11,p-=1):o-=1:m.hasClass("new")&&(11===o?(o=0,p+=1):o+=1),this._setDate(F(p,o,n)))}}this.picker.is(":visible")&&this._focused_from&&H(this._focused_from).focus(),delete this._focused_from},_toggle_multidate:function(d){var c=this.dates.contains(d);if(d||this.dates.clear(),-1!==c?(this.o.multidate===!0||this.o.multidate>1||this.o.toggleActive)&&this.dates.remove(c):this.o.multidate===!1?(this.dates.clear(),this.dates.push(d)):this.dates.push(d),"number"==typeof this.o.multidate){for(;this.dates.length>this.o.multidate;){this.dates.remove(0)}}},_setDate:function(e,d){d&&"date"!==d||this._toggle_multidate(e&&new Date(e)),d&&"view"!==d||(this.viewDate=e&&new Date(e)),this.fill(),this.setValue(),d&&"view"===d||this._trigger("changeDate");var f;this.isInput?f=this.element:this.component&&(f=this.element.find("input")),f&&f.change(),!this.o.autoclose||d&&"date"!==d||this.hide()},moveMonth:function(I,q){if(!I){return G}if(!q){return I}var p,o,n=new Date(I.valueOf()),m=n.getUTCDate(),l=n.getUTCMonth(),k=Math.abs(q);if(q=q>0?1:-1,1===k){o=-1===q?function(){return n.getUTCMonth()===l}:function(){return n.getUTCMonth()!==p},p=l+q,n.setUTCMonth(p),(0>p||p>11)&&(p=(p+12)%12)}else{for(var b=0;k>b;b++){n=this.moveMonth(n,q)}p=n.getUTCMonth(),n.setUTCDate(m),o=function(){return p!==n.getUTCMonth()}}for(;o();){n.setUTCDate(--m),n.setUTCMonth(p)}return n},moveYear:function(d,c){return this.moveMonth(d,12*c)},dateWithinRange:function(b){return b>=this.o.startDate&&b<=this.o.endDate},keydown:function(i){if(!this.picker.is(":visible")){return void (27===i.keyCode&&this.show())}var d,n,m,l=!1,k=this.focusDate||this.viewDate;switch(i.keyCode){case 27:this.focusDate?(this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill()):this.hide(),i.preventDefault();break;case 37:case 39:if(!this.o.keyboardNavigation){break}d=37===i.keyCode?-1:1,i.ctrlKey?(n=this.moveYear(this.dates.get(-1)||E(),d),m=this.moveYear(k,d),this._trigger("changeYear",this.viewDate)):i.shiftKey?(n=this.moveMonth(this.dates.get(-1)||E(),d),m=this.moveMonth(k,d),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||E()),n.setUTCDate(n.getUTCDate()+d),m=new Date(k),m.setUTCDate(k.getUTCDate()+d)),this.dateWithinRange(m)&&(this.focusDate=this.viewDate=m,this.setValue(),this.fill(),i.preventDefault());break;case 38:case 40:if(!this.o.keyboardNavigation){break}d=38===i.keyCode?-1:1,i.ctrlKey?(n=this.moveYear(this.dates.get(-1)||E(),d),m=this.moveYear(k,d),this._trigger("changeYear",this.viewDate)):i.shiftKey?(n=this.moveMonth(this.dates.get(-1)||E(),d),m=this.moveMonth(k,d),this._trigger("changeMonth",this.viewDate)):(n=new Date(this.dates.get(-1)||E()),n.setUTCDate(n.getUTCDate()+7*d),m=new Date(k),m.setUTCDate(k.getUTCDate()+7*d)),this.dateWithinRange(m)&&(this.focusDate=this.viewDate=m,this.setValue(),this.fill(),i.preventDefault());break;case 32:break;case 13:k=this.focusDate||this.dates.get(-1)||this.viewDate,this.o.keyboardNavigation&&(this._toggle_multidate(k),l=!0),this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.setValue(),this.fill(),this.picker.is(":visible")&&(i.preventDefault(),"function"==typeof i.stopPropagation?i.stopPropagation():i.cancelBubble=!0,this.o.autoclose&&this.hide());break;case 9:this.focusDate=null,this.viewDate=this.dates.get(-1)||this.viewDate,this.fill(),this.hide()}if(l){this.dates.length?this._trigger("changeDate"):this._trigger("clearDate");var j;this.isInput?j=this.element:this.component&&(j=this.element.find("input")),j&&j.change()}},showMode:function(b){b&&(this.viewMode=Math.max(this.o.minViewMode,Math.min(2,this.viewMode+b))),this.picker.children("div").hide().filter(".datepicker-"+r.modes[this.viewMode].clsName).css("display","block"),this.updateNavArrows()}};var x=function(a,d){this.element=H(a),this.inputs=H.map(d.inputs,function(b){return b.jquery?b[0]:b}),delete d.inputs,v.call(H(this.inputs),d).bind("changeDate",H.proxy(this.dateUpdated,this)),this.pickers=H.map(this.inputs,function(c){return H(c).data("datepicker")}),this.updateDates()};x.prototype={updateDates:function(){this.dates=H.map(this.pickers,function(b){return b.getUTCDate()}),this.updateRanges()},updateRanges:function(){var a=H.map(this.dates,function(b){return b.valueOf()});H.each(this.pickers,function(b,d){d.setRange(a)})},dateUpdated:function(a){if(!this.updating){this.updating=!0;var n=H(a.target).data("datepicker"),m=n.getUTCDate(),l=H.inArray(a.target,this.inputs),k=l-1,j=l+1,i=this.inputs.length;if(-1!==l){if(H.each(this.pickers,function(d,c){c.getUTCDate()||c.setUTCDate(m)}),m<this.dates[k]){for(;k>=0&&m<this.dates[k];){this.pickers[k--].setUTCDate(m)}}else{if(m>this.dates[j]){for(;i>j&&m>this.dates[j];){this.pickers[j++].setUTCDate(m)}}}this.updateDates(),delete this.updating}}},remove:function(){H.map(this.pickers,function(b){b.remove()}),delete this.element.data().datepicker}};var w=H.fn.datepicker,v=function(f){var b=Array.apply(null,arguments);b.shift();var a;return this.each(function(){var j=H(this),e=j.data("datepicker"),d="object"==typeof f&&f;if(!e){var c=B(this,"date"),n=H.extend({},u,c,d),k=A(n.language),h=H.extend({},u,k,c,d);if(j.hasClass("input-daterange")||h.inputs){var g={inputs:h.inputs||j.find("input").toArray()};j.data("datepicker",e=new x(this,H.extend(h,g)))}else{j.data("datepicker",e=new y(this,h))}}return"string"==typeof f&&"function"==typeof e[f]&&(a=e[f].apply(e,b),a!==G)?!1:void 0}),a!==G?a:this};H.fn.datepicker=v;var u=H.fn.datepicker.defaults={autoclose:!1,beforeShowDay:H.noop,beforeShowMonth:H.noop,calendarWeeks:!1,clearBtn:!1,toggleActive:!1,daysOfWeekDisabled:[],datesDisabled:[],endDate:1/0,forceParse:!0,format:"mm/dd/yyyy",keyboardNavigation:!0,language:"en",minViewMode:0,multidate:!1,multidateSeparator:",",orientation:"auto",rtl:!1,startDate:-(1/0),startView:0,todayBtn:!1,todayHighlight:!1,weekStart:0,disableTouchKeyboard:!1,enableOnReadonly:!0,container:"body"},t=H.fn.datepicker.locale_opts=["format","rtl","weekStart"];H.fn.datepicker.Constructor=y;var s=H.fn.datepicker.dates={en:{days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],daysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sun"],daysMin:["Su","Mo","Tu","We","Th","Fr","Sa","Su"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],today:"Today",clear:"Clear"},cn:{days:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],daysShort:["周日","周一","周二","周三","周四","周五","周六"],daysMin:["日","一","二","三","四","五","六"],months:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月"],monthsShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月"],today:"今日",clear:"清除",weekStart:1}},r={modes:[{clsName:"days",navFnc:"Month",navStep:1},{clsName:"months",navFnc:"FullYear",navStep:1},{clsName:"years",navFnc:"FullYear",navStep:10}],isLeapYear:function(b){return b%4===0&&b%100!==0||b%400===0},getDaysInMonth:function(d,c){return[31,r.isLeapYear(d)?29:28,31,30,31,30,31,31,30,31,30,31][c]},validParts:/dd?|DD?|mm?|MM?|yy(?:yy)?/g,nonpunctuation:/[^ -\/:-@\[\u3400-\u9fff-`{-~\t\n\r]+/g,parseFormat:function(e){var d=e.replace(this.validParts,"\x00").split("\x00"),f=e.match(this.validParts);if(!d||!d.length||!f||0===f.length){throw new Error("Invalid date format.")}return{separators:d,parts:f}},parseDate:function(T,S,R){function Q(){var e=this.slice(0,L[N].length),d=L[N].slice(0,e.length);return e.toLowerCase()===d.toLowerCase()}if(!T){return G}if(T instanceof Date){return T}"string"==typeof S&&(S=r.parseFormat(S));var P,O,N,M=/([\-+]\d+)([dmwy])/,L=T.match(/([\-+]\d+)([dmwy])/g);if(/^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/.test(T)){for(T=new Date,N=0;N<L.length;N++){switch(P=M.exec(L[N]),O=parseInt(P[1]),P[2]){case"d":T.setUTCDate(T.getUTCDate()+O);break;case"m":T=y.prototype.moveMonth.call(y.prototype,T,O);break;case"w":T.setUTCDate(T.getUTCDate()+7*O);break;case"y":T=y.prototype.moveYear.call(y.prototype,T,O)}}return F(T.getUTCFullYear(),T.getUTCMonth(),T.getUTCDate(),0,0,0)}L=T&&T.match(this.nonpunctuation)||[],T=new Date;var K,J,I={},q=["yyyy","yy","M","MM","m","mm","d","dd"],p={yyyy:function(e,d){return e.setUTCFullYear(d)},yy:function(e,d){return e.setUTCFullYear(2000+d)},m:function(e,d){if(isNaN(e)){return e}for(d-=1;0>d;){d+=12}for(d%=12,e.setUTCMonth(d);e.getUTCMonth()!==d;){e.setUTCDate(e.getUTCDate()-1)}return e},d:function(e,d){return e.setUTCDate(d)}};p.M=p.MM=p.mm=p.m,p.dd=p.d,T=F(T.getFullYear(),T.getMonth(),T.getDate(),0,0,0);var j=S.parts.slice();if(L.length!==j.length&&(j=H(j).filter(function(d,e){return -1!==H.inArray(e,q)}).toArray()),L.length===j.length){var c;for(N=0,c=j.length;c>N;N++){if(K=parseInt(L[N],10),P=j[N],isNaN(K)){switch(P){case"MM":J=H(s[R].months).filter(Q),K=H.inArray(J[0],s[R].months)+1;break;case"M":J=H(s[R].monthsShort).filter(Q),K=H.inArray(J[0],s[R].monthsShort)+1}}I[P]=K}var b,a;for(N=0;N<q.length;N++){a=q[N],a in I&&!isNaN(I[a])&&(b=new Date(T),p[a](b,I[a]),isNaN(b)||(T=b))}}return T},formatDate:function(a,n,m){if(!a){return""}"string"==typeof n&&(n=r.parseFormat(n));var l={d:a.getUTCDate(),D:s[m].daysShort[a.getUTCDay()],DD:s[m].days[a.getUTCDay()],m:a.getUTCMonth()+1,M:s[m].monthsShort[a.getUTCMonth()],MM:s[m].months[a.getUTCMonth()],yy:a.getUTCFullYear().toString().substring(2),yyyy:a.getUTCFullYear()};l.dd=(l.d<10?"0":"")+l.d,l.mm=(l.m<10?"0":"")+l.m,a=[];for(var k=H.extend([],n.separators),j=0,i=n.parts.length;i>=j;j++){k.length&&a.push(k.shift()),a.push(l[n.parts[j]])}return a.join("")},headTemplate:'<thead><tr><th class="prev">&#171;</th><th colspan="5" class="datepicker-switch"></th><th class="next">&#187;</th></tr></thead>',contTemplate:'<tbody><tr><td colspan="7"></td></tr></tbody>',footTemplate:'<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>'};r.template='<div class="datepicker"><div class="datepicker-days"><table class=" table-condensed">'+r.headTemplate+"<tbody></tbody>"+r.footTemplate+'</table></div><div class="datepicker-months"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+'</table></div><div class="datepicker-years"><table class="table-condensed">'+r.headTemplate+r.contTemplate+r.footTemplate+"</table></div></div>",H.fn.datepicker.DPGlobal=r,H.fn.datepicker.noConflict=function(){return H.fn.datepicker=w,this},H.fn.datepicker.version="1.4.1",H(document).on("focus.datepicker.data-api click.datepicker.data-api",'[data-provide="datepicker"]',function(a){var d=H(this);d.data("datepicker")||(a.preventDefault(),v.call(d,"show"))}),H(function(){v.call(H('[data-provide="datepicker-inline"]'))})}(window.jQuery);
